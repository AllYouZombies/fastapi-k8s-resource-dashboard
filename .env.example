# =============================================================================
# Kubernetes Resource Monitor - Production Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# 
# Minimal setup for launch:
# 1. Copy: cp .env.example .env  
# 2. Set: PROMETHEUS_URL=http://your-prometheus:9090
# 3. Run: docker-compose up -d
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Kubernetes Resource Monitor
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# KUBERNETES SETTINGS
# =============================================================================
# true - for running inside K8s cluster
# false - for running locally or outside cluster
K8S_IN_CLUSTER=false

# Path to kubeconfig file (used only when K8S_IN_CLUSTER=false)
K8S_CONFIG_PATH=/app/.kube/config

# Specific Kubernetes context to use (leave empty for current context)
# Prevents data corruption when host context changes
# K8S_CONTEXT=my-cluster-context

# Namespaces to exclude from monitoring (comma-separated)
EXCLUDED_NAMESPACES=kube-system,kube-public,kube-node-lease

# =============================================================================
# PROMETHEUS SETTINGS (REQUIRED!)
# =============================================================================
# Prometheus server URL - REPLACE WITH YOURS!
PROMETHEUS_URL=http://your-prometheus-server:9090

# Prometheus request timeout in seconds
PROMETHEUS_TIMEOUT=30

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# Database connection URL (automatically configured for Docker)
DATABASE_URL=sqlite:///./data/k8s_metrics.db

# Data retention period in days
RETENTION_DAYS=7

# =============================================================================
# SCHEDULER SETTINGS
# =============================================================================
# Data collection interval in minutes
COLLECTION_INTERVAL_MINUTES=5

# Enable/disable background data collection
ENABLE_SCHEDULER=true

# =============================================================================
# API AND WEB INTERFACE SETTINGS
# =============================================================================
# Allowed CORS origins (* for all, or specific domains comma-separated)
CORS_ORIGINS=*

# Default page size for pagination
PAGE_SIZE=20

# =============================================================================
# DOCKER COMPOSE SETTINGS
# =============================================================================
# Docker image name
IMAGE_NAME=k8s-resource-monitor:latest

# Container name
CONTAINER_NAME=k8s-resource-monitor

# Ports
HOST_PORT=8000
CONTAINER_PORT=8000

# Directory paths (relative to docker-compose.yml)
DATA_PATH=./data
LOGS_PATH=./logs
KUBECONFIG_PATH=~/.kube/config

# Host user UID/GID (automatically set by start.sh)
# Required for kubeconfig file access
HOST_UID=1000
HOST_GID=1000

# Health Check settings
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# =============================================================================
# PROMETHEUS CONFIGURATION EXAMPLES FOR DIFFERENT ENVIRONMENTS
# =============================================================================
# 
# Local Prometheus:
# PROMETHEUS_URL=http://localhost:9090
# 
# Prometheus in same Docker Compose (if using):
# PROMETHEUS_URL=http://prometheus:9090
# 
# Prometheus in Kubernetes (kube-prometheus-stack):
# PROMETHEUS_URL=http://kube-prometheus-stack-prometheus.monitoring.svc:9090
# 
# Prometheus Operator:
# PROMETHEUS_URL=http://prometheus-operated.monitoring.svc:9090
# 
# External Prometheus:
# PROMETHEUS_URL=https://prometheus.company.com
# 
# Prometheus via kubectl port-forward:
# PROMETHEUS_URL=http://host.docker.internal:9090
# =============================================================================

# =============================================================================
# KUBERNETES CONTEXT EXAMPLES
# =============================================================================
#
# Use specific context to prevent data corruption:
# K8S_CONTEXT=production-cluster
# K8S_CONTEXT=staging-cluster
# K8S_CONTEXT=minikube
# K8S_CONTEXT=docker-desktop
#
# List available contexts: kubectl config get-contexts
# =============================================================================