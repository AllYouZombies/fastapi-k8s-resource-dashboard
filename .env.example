# =============================================================================
# Kubernetes Resource Monitor - Production Configuration
# =============================================================================
# Скопируйте этот файл в .env и настройте под ваше окружение
# 
# Минимальные настройки для запуска:
# 1. Скопировать: cp .env.example .env  
# 2. Указать: PROMETHEUS_URL=http://your-prometheus:9090
# 3. Запустить: docker-compose up -d
# =============================================================================

# =============================================================================
# ОСНОВНЫЕ НАСТРОЙКИ ПРИЛОЖЕНИЯ
# =============================================================================
APP_NAME=Kubernetes Resource Monitor
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# НАСТРОЙКИ KUBERNETES
# =============================================================================
# true - для запуска внутри кластера K8s
# false - для запуска локально или вне кластера
K8S_IN_CLUSTER=false

# Путь к kubeconfig файлу (используется только когда K8S_IN_CLUSTER=false)
K8S_CONFIG_PATH=/app/.kube/config

# Namespace'ы, исключаемые из мониторинга (через запятую)
EXCLUDED_NAMESPACES=kube-system,kube-public,kube-node-lease

# =============================================================================
# НАСТРОЙКИ PROMETHEUS (ОБЯЗАТЕЛЬНО НАСТРОИТЬ!)
# =============================================================================
# URL Prometheus сервера - ЗАМЕНИТЕ НА ВАШ!
PROMETHEUS_URL=http://your-prometheus-server:9090

# Таймаут запросов к Prometheus в секундах
PROMETHEUS_TIMEOUT=30

# =============================================================================
# НАСТРОЙКИ БАЗЫ ДАННЫХ
# =============================================================================
# URL подключения к базе данных (автоматически настраивается для Docker)
DATABASE_URL=sqlite:///./k8s_metrics.db

# Период хранения данных в днях
RETENTION_DAYS=7

# =============================================================================
# НАСТРОЙКИ ПЛАНИРОВЩИКА
# =============================================================================
# Интервал сбора данных в минутах
COLLECTION_INTERVAL_MINUTES=5

# Включение/выключение фонового сбора данных
ENABLE_SCHEDULER=true

# =============================================================================
# НАСТРОЙКИ API И ВЕБ-ИНТЕРФЕЙСА
# =============================================================================
# Разрешенные origins для CORS (* для всех, или конкретные домены через запятую)
CORS_ORIGINS=*

# Размер страницы по умолчанию для пагинации
PAGE_SIZE=20

# =============================================================================
# DOCKER COMPOSE НАСТРОЙКИ
# =============================================================================
# Имя Docker образа
IMAGE_NAME=k8s-resource-monitor:latest

# Имя контейнера
CONTAINER_NAME=k8s-resource-monitor

# Порты
HOST_PORT=8000
CONTAINER_PORT=8000

# Пути к директориям (относительно docker-compose.yml)
DATA_PATH=./data
LOGS_PATH=./logs
KUBECONFIG_PATH=~/.kube/config

# UID/GID пользователя хоста (автоматически устанавливается start.sh)
# Нужно для доступа к kubeconfig файлу
HOST_UID=1000
HOST_GID=1000

# Health Check настройки
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# =============================================================================
# ПРИМЕРЫ НАСТРОЕК PROMETHEUS ДЛЯ РАЗНЫХ ОКРУЖЕНИЙ
# =============================================================================
# 
# Локальный Prometheus:
# PROMETHEUS_URL=http://localhost:9090
# 
# Prometheus в том же Docker Compose (если используете):
# PROMETHEUS_URL=http://prometheus:9090
# 
# Prometheus в Kubernetes (kube-prometheus-stack):
# PROMETHEUS_URL=http://kube-prometheus-stack-prometheus.monitoring.svc:9090
# 
# Prometheus Operator:
# PROMETHEUS_URL=http://prometheus-operated.monitoring.svc:9090
# 
# Внешний Prometheus:
# PROMETHEUS_URL=https://prometheus.company.com
# 
# Prometheus через kubectl port-forward:
# PROMETHEUS_URL=http://host.docker.internal:9090
# =============================================================================